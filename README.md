# 📘 Git プロジェクト初期化 & 運用手順（テンプレート）

## 🧱 初回プロジェクト作成時（GitHubと連携するまで）

1. プロジェクトディレクトリを作成
```bash
mkdir your_project_name
cd your_project_name
```

2. 仮想環境を構築
```
python -m venv venv
source venv/bin/activate  # Windowsは .\venv\Scripts\activate
```

3. Gitを初期化
```
git init
```

4. .gitignoreを作成
```
venv/
__pycache__/
*.pyc
.DS_Store
```

5.README.mdの作成
```
touch README.md
```

6.GitHubで新規リポジトリを作成
 - 右上の＋ボタンからNew repositoryを押下
 - 「READMEを初期化」のチェックは外す

7.GitHubとリモート接続
```
git remote add origin https://github.com/yourusername/your_project_name.git
git branch -M main
```

8.最初のコミット&push
```
git add .
git commit -m "Initial commit"
git push -u origin main
```

## 🔁以降の運用（変更を保存するたびに）
1.変更をステージに追加
```
git add .
```

2.コミットする
```
git commit -m "ここに変更内容を書く"
```

3.GitHunへ反映(push)
```
git push
```

# 🚀開発のロードマップ(Backend)

## 🔷 ステージ 1：コアスクリーニングエンジンの実装
🎯 目的：
複数の東証上場株式を取得し、移動平均線(EMA5,EMA20,EMA40)を計算し、6つのステージに分類できること。

🗃️ ディレクトリ構成
```
stock_screening_app/
├── main.py                 ← 起動ファイル
├── TickerLoader.py         ← data_j.xlsをloadし、yfinanceで利用できるように前処理するクラス
├── StockDataFetcher.py     ← yfinanceから株価を取得し、EMAを計算するクラス
├── StageAnalyzer.py        ← ステージを判定するクラス
├── BatchScreening.py       ← スクリーニングを実行し、キャッシュとして保存しておく。
├── requirements.txt
└── README.md
```
## 🔷 ステージ 2：Web UIの構築（ステージ選択UI）
🎯 目的：
「大循環分析」セクションに、ステージ1〜6のチェックボックスを用意し、該当銘柄を一覧表示する画面を構築

✅ タスク：

 HTML + JSベースのUI（例：Bootstrap + Vanilla JS）

 ステージ1〜6のチェックボックスを配置

 チェックボックスの状態をもとにAPIを呼び出し

 結果を表形式で描画（銘柄コード、銘柄名、ステージなど）

 チャートページ（Yahooなど）へのリンクも追加

🖥️ フロントエンドのUIイメージ（ざっくり）
```
[市場]
[]東証プライム市場
[]東証スタンダード市場
[]東証グロース市場

[出来高]
【下限】~ 【上限】

 [ 移動平均線大循環分析 ]
[✔] ステージ1
[✔] ステージ2
[ ] ステージ3
[ ] ステージ4
[✔] ステージ5
[ ] ステージ6

[ 検索ボタン ]

--- 結果 ---
| 銘柄コード | 銘柄名 | 直近出来高　|　直近終値　|現在のステージ |　 チャートリンク |
|------------|--------|----------|-----------|----------------|----------------|
| 7203       | トヨタ | 40000　　|　　2,500　　|　　ステージ1    | [リンク]       |
| 9984       | ソフトバンクG | 40000|2,500　　|　　ステージ1    | [リンク] |
```

## 🔷 ステージ 3：ステージ別データキャッシュ・JSON生成
🎯 目的：
全銘柄の大循環分析を定期実行しておき、結果をAPIで即返せるようにする。現状では、検索するたびにすべての銘柄のスクリーニングを実施しているため、時間がかかるのに対して、キャッシュを使うことでスクリーン済の結果をすぐ返却できるようになる。

✅ タスク：
 スクリーニングバッチ（例：BatchScreening.py）作成
 * 全銘柄のステージを一括判定し、JSONファイルで保存する。
 ```
 output/
└── screening_result.csv   ← 日付別キャッシュ（オプション）
 ```

## 🔷 ステージ 4：定期スクリーニングの自動実行（GitHub Actionsなど）
🎯 目的：
株価データは日々変わるため、毎日朝に自動スクリーニングを行い、最新結果を保存する。

✅ タスク：

 batch_screening.py をGitHub Actionsやcronで自動実行
   * data_j.xlsの上場銘柄の一覧の最新化　⇒　最新化され次第？※ここをどう最新化するか・・
   * output/のスクリーニング結果の最新化　⇒ 1日1回？

 結果ファイルを data/ に更新

 必要に応じて差分チェックやログ出力も整備

 ## 🔷 ステージ 5：Discord連携機能の実装
🎯 目的：
Webhookを用いて、Pythonから通知を送る。

✅ タスク：

### Discord通知システム構築
- Discordサーバーを作成（または既存を使用）
- 通知用チャンネルを作成
- Webhookを発行

## 🔷 ステージ 6：分析機能の拡張
🎯 目的：
移動平均線大循環分析に基づいた株のスクリーニングに終始した現状のUI分析から、より多角的なテクニカル分析を用いて、売買のタイミングの分析を行い、売買のタイミングをDiscordにて通知する機能拡張を行いたい。
 
 ### 要件定義
 
 0. 前提となるスクリーニング前の条件の選択機能(銘柄スクリーニング画面から遷移して、通知条件画面に移るように別途実装予定)
      * 対象となる市場の選択
         * プライム、スタンダード、グロースのチェックボックス
      * 予算情報としての希望終値の下限と上限（1銘柄あたりの終値）
         * テキストボックスで入力し、その条件に合った株式を探す
      * 通知無効チェックボックス
         * 基本は1日1回（市場が終わった16時以降にBatchで動かすイメージ。）だが、そのチェックを入れた場合、CI自体のジョブを止める。
      * 保存ボタン
         * これはDBで管理かな？
 1. 売買すべき銘柄のスクリーニング～通知機能
      * 買うべき銘柄の条件
         * 出来高
         * 
      * 売るべき銘柄の条件
      * ロスカットすべき価格
      * Discord通知機能
 2.  利確すべきタイミングの条件～通知
      * 売りのタイミング
      * 買い戻しのタイミング
      * Discord通知機能
 - テクニカル分析の強化 & 対象の銘柄を通知
    * RSI
      * aa
    * 出来高
      * aa
    * 現在のステージの長さ（任意選択したステージがどのくらい継続しているか）

